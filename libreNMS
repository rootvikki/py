sudo apt install apt-transport-https ca-certificates curl software-properties-common gnupg-agent -y
curl -fsSL https://download.docker.com/linux/$(awk -F'=' '/^ID=/{ print $NF }' /etc/os-release)/gpg | sudo apt-key add -
sudo add-apt-repository "deb [arch=$(dpkg --print-architecture)] https://download.docker.com/linux/$(awk -F'=' '/^ID=/{ print $NF }' /etc/os-release) $(lsb_release -cs) stable"
sudo apt install docker-ce docker-compose containerd.io -y
sudo systemctl enable docker && sudo systemctl start docker
sudo usermod -aG docker $USER
su - $USER
mkdir /home/$USER/docker/librenms -p && mkdir /home/$USER/docker/mariadb -p
docker run --name mariadb -e MYSQL_ROOT_PASSWORD=p@$$word -e MYSQL_USER=librenms_rw -e MYSQL_PASSWORD=librenms -e MYSQL_DATABASE=librenms -v /home/$USER/docker/mariadb:/var/lib/mysql -p 3306:3306 -d mariadb
docker run -d --name librenms -v /home/$USER/docker/librenms:/data -e TZ=America/New_York -e DB_HOST=*********** -e DB_NAME=librenms -e DB_USER=librenms_rw -e DB_PASSWORD=librenms --network host librenms/librenms:latest
